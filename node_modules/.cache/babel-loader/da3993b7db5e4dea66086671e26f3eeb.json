{"ast":null,"code":"import _toConsumableArray from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{XYPlot,LineSeries,HorizontalGridLines,XAxis,YAxis,Borders,VerticalGridLines,HorizontalBarSeries,GradientDefs,AreaSeries,FlexibleXYPlot,LabelSeries}from'react-vis';import{Sticky,Header,Table}from'semantic-ui-react';export var Timeline=/*#__PURE__*/function(_Component){_inherits(Timeline,_Component);function Timeline(){var _getPrototypeOf2;var _this;_classCallCheck(this,Timeline);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Timeline)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={rawData:[{y:0,x:0,label:'loading | loadidng'}],barPosition:{date:'',offset:0},labelData:[{lable:'Testing'}],height:50,middle:typeof _this.props.middle!=='undefined'?_this.props.mediumLevel:150};_this.parseDate=function(input,timeOrDate){var output=0;var optionsDate={weekday:'short',day:'numeric',month:'numeric'};var optionsTime={hour:'numeric',minute:'numeric',hour12:true};var options24={hour:'numeric',minute:'numeric',hour12:false};var parsedDate=new Date(Date.UTC(parseInt(input.slice(0,4),10),parseInt(input.slice(5,7),10)-1,parseInt(input.slice(8,10),10),parseInt(input.slice(11,13),10),parseInt(input.slice(14,16),10)//parseInt(input.slice(13,15), 10)\n));if(timeOrDate==='time'){output=parsedDate.toLocaleString(\"en-GB\",optionsTime);}else if(timeOrDate==='date'){output=\"\".concat(parsedDate.toLocaleString(\"en-GB\",optionsDate));}else if(timeOrDate==='24'){output=parsedDate.toLocaleString(\"en-GB\",options24);}return output;};_this.lowCarbonLabel=function(item){var output='';if(item.text.split(' ')[0]==='Low'||item.text.split(' ')[1]==='Low'){output='This is a good time to use electricity!';}return output;};_this.formatData=function(){var data=[];var labelData=[];var dayLabels=[];var middleVal=_this.props.middle;//let middle = this.props.timelineVals[this.props.timelineVals.length-1].level / 2 \nif(_this.props.timelineVals!==[]){_this.props.timelineVals.map(function(item,index){var bar={x:item.level-10,y:-index,label:\"\".concat(_this.lowCarbonLabel(item)),yOffset:-25};data=[].concat(_toConsumableArray(data),[bar]);});_this.props.timelineVals.map(function(item,index){var barLabel={x:0,y:-index,label:\"\".concat(_this.parseDate(item.from,'time')),xOffset:-60};labelData=[].concat(_toConsumableArray(labelData),[barLabel]);});_this.props.timelineVals.map(function(item,index){// let middle = this.props.screenWidth / 2\n// let middle = this.state.rawData[this.state.rawData-1].x / 2 \n//middle += 100\nvar day='';if(parseInt(\"\".concat(_this.parseDate(item.from,'24')))<1||index<1){day=\"\".concat(_this.parseDate(item.from,'date'));console.log(day);}var dayLabel={x:_this.state.middle,y:-index,label:day,xOffset:_this.props.mobileUser?0:-30,yOffset:-15};dayLabels=[].concat(_toConsumableArray(dayLabels),[dayLabel]);});}//console.log(data)\n_this.setState({rawData:data,labelData:labelData,dayLabels:dayLabels});};_this.manageHeight=function(){var newHeight=_this.props.timelineVals.length+=400;_this.setState({height:newHeight});};return _this;}_createClass(Timeline,[{key:\"componentDidMount\",value:function componentDidMount(){if(typeof this.props.timelineVals[0]!=='undefined'){return this.formatData(),this.manageHeight();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.props.timelineVals!==prevProps.timelineVals)return this.formatData(),this.manageHeight();}// mapTest = () => {\n//     let test = this.state.rawData.map(item => {\n//         return item.text.split('|')[0]})\n//         console.log(`HiHi${test}`)\n// }\n// getMiddle = () => {\n//     if (this.state.middle < 1) {\n//     let middle = this.props.timelineVals[this.props.timelineVals.length-1].level / 2 \n//     this.setState({middle: middle})\n//     }\n// }\n},{key:\"render\",value:function render(){return React.createElement(\"div\",{style:{height:'800vh'}},React.createElement(\"div\",{id:\"sticky\"},\"Carbon Intensity Level\",React.createElement(Table,{id:\"sticky-table\",unstackable:true},React.createElement(Table.Body,null,React.createElement(Table.Row,null,React.createElement(Table.Cell,null,\"\\u27F5  Low\"),React.createElement(Table.Cell,null,\"Medium\"),React.createElement(Table.Cell,null,\"High  \\u27F6\"))))),React.createElement(\"div\",{id:\"timeline\"},React.createElement(\"div\",{style:{// display: 'flex',\njustifyContent:'space-between',position:'relative',width:'100%',height:'800vh',//height: `${this.state.height}vh`,\noverflow:'auto'},id:\"bg-fade\"},React.createElement(\"div\",{style:{width:'100%',height:'100%',border:'1px solid #ccc'}},React.createElement(FlexibleXYPlot,{id:\"timeline-chart\",margin:{bottom:80,left:80,right:20,top:50}},React.createElement(HorizontalGridLines,{tickTotal:this.state.rawData.length,animation:true}),React.createElement(LineSeries,{data:this.state.rawData,color:'black',animation:true,style:{fill:'none',strokeLinejoin:'round',strokeWidth:8},curve:'curveMonotoneX'}),React.createElement(LabelSeries,{data:this.state.rawData// labelAnchorX={\"end\"}\n// labelAnchorY={\"middle\"}\n}),React.createElement(LabelSeries,{data:this.state.labelData,labelAnchorX:\"start\",labelAnchorY:\"middle\"}),React.createElement(LabelSeries,{data:this.state.dayLabels,labelAnchorX:\"end\",labelAnchorY:\"middle\"}))))));}}]);return Timeline;}(Component);export default Timeline;","map":{"version":3,"sources":["/Users/Chris/Development/Final-Project/carbon-forecast-frontend/src/components/Timeline.js"],"names":["React","Component","XYPlot","LineSeries","HorizontalGridLines","XAxis","YAxis","Borders","VerticalGridLines","HorizontalBarSeries","GradientDefs","AreaSeries","FlexibleXYPlot","LabelSeries","Sticky","Header","Table","Timeline","state","rawData","y","x","label","barPosition","date","offset","labelData","lable","height","middle","props","mediumLevel","parseDate","input","timeOrDate","output","optionsDate","weekday","day","month","optionsTime","hour","minute","hour12","options24","parsedDate","Date","UTC","parseInt","slice","toLocaleString","lowCarbonLabel","item","text","split","formatData","data","dayLabels","middleVal","timelineVals","map","index","bar","level","yOffset","barLabel","from","xOffset","console","log","dayLabel","mobileUser","setState","manageHeight","newHeight","length","prevProps","prevState","justifyContent","position","width","overflow","border","bottom","left","right","top","fill","strokeLinejoin","strokeWidth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {XYPlot, LineSeries, HorizontalGridLines, XAxis, YAxis, Borders, VerticalGridLines, HorizontalBarSeries, GradientDefs, AreaSeries, FlexibleXYPlot, LabelSeries} from 'react-vis';\nimport { Sticky, Header, Table } from 'semantic-ui-react';\n\n\nexport class Timeline extends Component {\n\n    state = {\n        rawData: [{y: 0, x: 0, label:'loading | loadidng'}],\n        barPosition: {date: '', offset: 0},\n        labelData: [{lable: 'Testing'}],\n        height: 50,\n        middle: typeof this.props.middle !== 'undefined' ? this.props.mediumLevel : 150\n    }\n\n\n    componentDidMount () {\n        if (typeof this.props.timelineVals[0] !== 'undefined'){\n          return (\n              this.formatData(),\n              this.manageHeight()\n              ) \n            }\n        }\n        \n        componentDidUpdate (prevProps, prevState) {\n            if (this.props.timelineVals !== prevProps.timelineVals)\n            return (\n                this.formatData(),\n                this.manageHeight()\n                ) \n    }\n\n    \n\n    // mapTest = () => {\n    //     let test = this.state.rawData.map(item => {\n    //         return item.text.split('|')[0]})\n    //         console.log(`HiHi${test}`)\n    // }\n\n    // getMiddle = () => {\n    //     if (this.state.middle < 1) {\n    //     let middle = this.props.timelineVals[this.props.timelineVals.length-1].level / 2 \n    //     this.setState({middle: middle})\n    //     }\n    // }\n\n    parseDate = (input, timeOrDate) => {\n        let output = 0\n        let optionsDate = { weekday: 'short', day: 'numeric', month: 'numeric' };\n        let optionsTime = { hour: 'numeric',minute: 'numeric', hour12: true};\n        let options24 = { hour: 'numeric',minute: 'numeric', hour12: false};\n\n               let parsedDate = new Date(Date.UTC(\n                   parseInt(input.slice(0, 4), 10),\n                   parseInt(input.slice(5, 7), 10) - 1,\n                   parseInt(input.slice(8, 10), 10),\n                   parseInt(input.slice(11, 13), 10),\n                   parseInt(input.slice(14, 16), 10),\n                 //parseInt(input.slice(13,15), 10)\n               ))\n               if (timeOrDate === 'time'){\n                   output =  parsedDate.toLocaleString(\"en-GB\", optionsTime)\n               }else if (timeOrDate === 'date') {\n               output =  (`${parsedDate.toLocaleString(\"en-GB\", optionsDate)}`)\n               }else if (timeOrDate === '24') {\n               output =  parsedDate.toLocaleString(\"en-GB\", options24)\n              }\n\n\n            return output\n\n            }\n\n        lowCarbonLabel = (item) => {\n            let output = ''\n            if (item.text.split(' ')[0] === 'Low' || item.text.split(' ')[1] === 'Low' ) {\n                output = 'This is a good time to use electricity!'\n            }\n            return output\n        }\n\n       formatData = () => {\n        let data = []\n        let labelData = []\n        let dayLabels = []\n        let middleVal = this.props.middle\n        //let middle = this.props.timelineVals[this.props.timelineVals.length-1].level / 2 \n\n        if (this.props.timelineVals !== [] ) {\n\n        this.props.timelineVals.map((item, index) => {\n            let bar = {x: item.level-10, y: -index, label: `${this.lowCarbonLabel(item)}` , yOffset:-25}   \n            data = [...data, bar]\n        })\n        this.props.timelineVals.map((item, index) => {\n            let barLabel = {x: 0, y: -index, label: `${this.parseDate(item.from, 'time')}`, xOffset:-60}  \n            labelData = [...labelData, barLabel]\n        })\n        this.props.timelineVals.map((item, index) => {\n            \n           // let middle = this.props.screenWidth / 2\n           // let middle = this.state.rawData[this.state.rawData-1].x / 2 \n            //middle += 100\n            let day = ''\n\n            if (parseInt(`${this.parseDate(item.from, '24')}`) < 1 || index < 1 )\n            {\n                day = `${this.parseDate(item.from, 'date')}`\n                console.log(day)   \n            }\n            let dayLabel = {x: this.state.middle, y: -index, \n                label: day,\n                xOffset: this.props.mobileUser ? 0 : -30,\n                 yOffset:-15}  \n            dayLabels = [...dayLabels, dayLabel]\n        })\n    }\n       \n        //console.log(data)\n        \n        this.setState({\n            rawData: data,\n            labelData: labelData,\n            dayLabels: dayLabels\n        })    \n    \n    }\n    //day.sort((a, b) => (a.level > b.level)\n    manageHeight = () => {\n       let newHeight =  this.props.timelineVals.length += 400\n        this.setState({\n            height: newHeight\n        })\n    }\n\n    render() {\n\n\n        \n        return (\n            <div\n            style={{\n                height: '800vh'\n            }}\n            >\n          \n          <div id=\"sticky\"> \n        \n            Carbon Intensity Level\n          <Table id=\"sticky-table\" unstackable >\n\n            <Table.Body>\n           \n\n            <Table.Row>\n            <Table.Cell>⟵  Low</Table.Cell>\n            <Table.Cell>Medium</Table.Cell>\n            <Table.Cell>High  ⟶</Table.Cell>\n            </Table.Row>\n            </Table.Body>\n          </Table>\n          \n          </div>\n                \n                <div id=\"timeline\">\n<div\n      style={{\n          // display: 'flex',\n          justifyContent: 'space-between',\n          position: 'relative',\n          width:  '100%',\n          height: '800vh',\n          //height: `${this.state.height}vh`,\n          overflow: 'auto',\n        }}\n      id=\"bg-fade\"\n\n      \n    >\n\n\n\n<div\n        style={{width: '100%', height: '100%', border: '1px solid #ccc'}}\n      >\n        <FlexibleXYPlot  id=\"timeline-chart\" margin={{bottom: 80, left: 80, right: 20, top: 50}}>\n        {/* xType=\"time\" \n         yType=\"ordinal\"\n        */}\n        \n\n        <HorizontalGridLines \n        tickTotal={this.state.rawData.length}\n        animation={true}\n        />\n     \n        {/* <YAxis \n        position=\"start\"\n        tickTotal={2}\n        // top={40}\n        top={0}\n        //height={150}\n        //width={1}\n        style={{\n            text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n          }}\n          //tickLabelAngle={-45}\n          /> */}\n        \n        \n        <LineSeries \n        data={this.state.rawData}\n        color={'black'}\n        animation\n        style={{\n            fill: 'none',\n            strokeLinejoin: 'round',\n            strokeWidth: 8\n        }}\n        curve={'curveMonotoneX'}\n        />\n\n        <LabelSeries\n        data={this.state.rawData}\n        // labelAnchorX={\"end\"}\n        // labelAnchorY={\"middle\"}\n        />\n        <LabelSeries\n        data={this.state.labelData}\n        labelAnchorX={\"start\"}\n        labelAnchorY={\"middle\"}\n        />\n\n        <LabelSeries\n        data={this.state.dayLabels}\n        \n        labelAnchorX={\"end\"}\n        labelAnchorY={\"middle\"}\n        />\n        {/* <HorizontalBarSeries \n        data={this.state.rawData}\n        color={'url(#CoolGradient)'}\n        animation\n        /> */}\n\n         {/* <YAxis \n         position=\"start\"\n         tickValues={this.state.rawData.map(value => value.y)} \n         tickSize={1}\n         />  */}\n\n{/*\n            //data={this.xlabelData('top')}\n                //return { ...obj, y: this.props.mobileUser ? -3 : -18, rotation: this.props.mobileUser ? 90 : 0, label: `${obj.y.split('|')[0]}` }\n            //animation\n            // labelAnchorX={this.props.mobileUser ? \"start\" : \"middle\"}\n            // //labelAnchorY=\"text-before-edge\"\n            // labelAnchorY={this.props.mobileUser ? \"text-after-edge\" : \"baseline\"}\n            // labelAnchorX={\"middle\"}\n            // labelAnchorY={\"text-before-edge\"}\n            // style={{\n            //     text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n            //   }}\n        {/* \n        <LabelSeries\n                    data={this.state.rawData.map(obj => {\n                        return { ...obj, label: obj.y.toString() }\n                    })}\n                    \n                    animation\n                    labelAnchorX=\"middle\"\n                    labelAnchorY=\"text-before-edge\"\n                    \n                    />\n\n\n\n        <LabelSeries\n                    data={this.state.rawData.map(obj => {\n\n                        return { ...obj, y: this.props.mobileUser ? -3 :-34, rotation: this.props.mobileUser ? 90 : 0, label: `${obj.y.split('|')[1]}` }\n                    })}\n                    animation\n                    labelAnchorX={this.props.mobileUser ? \"start\" : \"middle\"}\n                    //labelAnchorY=\"text-before-edge\"\n                    //labelAnchorY=\"baseline\"\n                    labelAnchorY={this.props.mobileUser ? \"text-before-edge\" : \"baseline\"}\n                    style={{\n                        text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n                      }}\n                    /> */}\n\n\n\n        </FlexibleXYPlot>\n      </div>\n\n</div>\n     \n\n        </div>\n        \n\n            </div>\n        );\n    }\n}\n\nexport default Timeline;\n"]},"metadata":{},"sourceType":"module"}