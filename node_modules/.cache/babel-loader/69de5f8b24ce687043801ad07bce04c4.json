{"ast":null,"code":"var _jsxFileName = \"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/src/components/Timeline.js\";\nimport React, { Component } from 'react';\nimport { XYPlot, LineSeries, HorizontalGridLines, XAxis, YAxis, Borders, VerticalGridLines, HorizontalBarSeries, GradientDefs, AreaSeries, FlexibleXYPlot, LabelSeries } from 'react-vis';\nexport class Timeline extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rawData: [{\n        y: 1.5,\n        x: 0\n      }, {\n        y: 2.5,\n        x: 10\n      }, {\n        y: 3.5,\n        x: 20\n      }, {\n        y: 4.5,\n        x: 30\n      }, {\n        y: 5.5,\n        x: 40\n      }, {\n        y: 6.5,\n        x: 50\n      }, {\n        y: 7.5,\n        x: 60\n      }, {\n        y: 8.5,\n        x: 70\n      }, {\n        y: 9.5,\n        x: 80\n      }, {\n        y: 10.5,\n        x: 90\n      }, {\n        y: 11.5,\n        x: 100\n      }, {\n        y: 13.5,\n        x: 20\n      }, {\n        y: 12.5,\n        x: 10\n      }, {\n        y: 14.5,\n        x: 130\n      }, {\n        y: 15.5,\n        x: 140\n      }, {\n        y: 16.5,\n        x: 50\n      }, {\n        y: 17.5,\n        x: 160\n      }, {\n        y: 18.5,\n        x: 70\n      }, {\n        y: 19.5,\n        x: 180\n      }, {\n        y: 20.5,\n        x: 190\n      }],\n      barPosition: {\n        date: '',\n        offset: 0\n      }\n    };\n\n    this.parseDate = (input, timeOnly) => {\n      let optionsDate = {\n        weekday: 'short',\n        day: 'numeric',\n        month: 'numeric'\n      };\n      let optionsTime = {\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: true\n      };\n      let parsedDate = new Date(Date.UTC(parseInt(input.slice(0, 4), 10), parseInt(input.slice(5, 7), 10) - 1, parseInt(input.slice(8, 10), 10), parseInt(input.slice(11, 13), 10), parseInt(input.slice(14, 16), 10) //parseInt(input.slice(13,15), 10)\n      ));\n      return \"\".concat(parsedDate.toLocaleString(\"en-GB\", optionsTime), \"|\").concat(parsedDate.toLocaleString(\"en-GB\", optionsDate));\n    };\n\n    this.formatData = () => {\n      let data = [];\n\n      if (this.props.aggedVals !== []) {\n        this.props.aggedVals.map(item => {\n          let bar = {\n            x: \"\".concat(this.parseDate(item.from)),\n            y: item.level\n          };\n          return data = [...data, bar];\n        });\n        console.log(data);\n        this.setState({\n          rawData: data\n        });\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"timeline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        // display: 'flex',\n        justifyContent: 'space-between',\n        position: 'relative',\n        width: '100%',\n        //height: '50vh',\n        height: '150vh',\n        overflow: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        height: '100%',\n        border: '1px solid #ccc'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(FlexibleXYPlot, {\n      id: \"timeline-chart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(GradientDefs, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"linearGradient\", {\n      id: \"CoolGradient\",\n      y1: \"0\",\n      y2: \"0\",\n      x1: \"0\",\n      x2: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"stop\", {\n      offset: \"0%\",\n      stopColor: \"green\",\n      stopOpacity: 0.4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"stop\", {\n      offset: \"50%\",\n      stopColor: \"yellow\",\n      stopOpacity: 0.4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"stop\", {\n      offset: \"100%\",\n      stopColor: \"red\",\n      stopOpacity: 0.4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }))), React.createElement(HorizontalGridLines, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(LineSeries, {\n      data: this.state.rawData,\n      color: 'black',\n      animation: true,\n      style: {\n        strokeLinejoin: 'round',\n        strokeWidth: 4\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(YAxis, {\n      position: \"start\",\n      tickValues: this.state.rawData.map(value => value.y),\n      tickSize: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }))))));\n  }\n\n}\nexport default Timeline;","map":{"version":3,"sources":["/Users/Chris/Development/Final-Project/carbon-forecast-frontend/src/components/Timeline.js"],"names":["React","Component","XYPlot","LineSeries","HorizontalGridLines","XAxis","YAxis","Borders","VerticalGridLines","HorizontalBarSeries","GradientDefs","AreaSeries","FlexibleXYPlot","LabelSeries","Timeline","state","rawData","y","x","barPosition","date","offset","parseDate","input","timeOnly","optionsDate","weekday","day","month","optionsTime","hour","minute","hour12","parsedDate","Date","UTC","parseInt","slice","toLocaleString","formatData","data","props","aggedVals","map","item","bar","from","level","console","log","setState","render","justifyContent","position","width","height","overflow","border","strokeLinejoin","strokeWidth","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {XYPlot, LineSeries, HorizontalGridLines, XAxis, YAxis, Borders, VerticalGridLines, HorizontalBarSeries, GradientDefs, AreaSeries, FlexibleXYPlot, LabelSeries} from 'react-vis';\n\nexport class Timeline extends Component {\n\n    state = {\n        rawData: [{y: 1.5, x: 0},\n            {y: 2.5, x: 10},\n            {y: 3.5, x: 20},\n            {y: 4.5, x: 30},\n            {y: 5.5, x: 40},\n            {y: 6.5, x: 50},\n            {y: 7.5, x: 60},\n            {y: 8.5, x: 70},\n            {y: 9.5, x: 80},\n            {y: 10.5, x: 90},\n            {y: 11.5, x: 100},\n            {y: 13.5, x: 20},\n            {y: 12.5, x: 10},\n            {y: 14.5, x: 130},\n            {y: 15.5, x: 140},\n            {y: 16.5, x: 50},\n            {y: 17.5, x: 160},\n            {y: 18.5, x: 70},\n            {y: 19.5, x: 180},\n            {y: 20.5, x: 190}\n        ],\n        barPosition: {date: '', offset: 0}\n    }\n\n\n    parseDate = (input, timeOnly) => {\n        let optionsDate = { weekday: 'short', day: 'numeric', month: 'numeric' };\n        let optionsTime = { hour: 'numeric',minute: 'numeric', hour12: true};\n               let parsedDate = new Date(Date.UTC(\n                   parseInt(input.slice(0, 4), 10),\n                   parseInt(input.slice(5, 7), 10) - 1,\n                   parseInt(input.slice(8, 10), 10),\n                   parseInt(input.slice(11, 13), 10),\n                   parseInt(input.slice(14, 16), 10),\n                 //parseInt(input.slice(13,15), 10)\n               ))\n               return (`${parsedDate.toLocaleString(\"en-GB\", optionsTime)}|${parsedDate.toLocaleString(\"en-GB\", optionsDate)}`)\n       }\n\n       formatData = () => {\n        let data = []\n        \n        if (this.props.aggedVals !== [] ) {\n        this.props.aggedVals.map(item => {\n            let bar = {x: `${this.parseDate(item.from)}`, y:item.level} \n            return data = [...data, bar]\n        })\n        console.log(data)\n        this.setState({rawData: data})    \n    }\n    }\n\n\n\n    render() {\n        return (\n            <div>\n                \n\n                <div id=\"timeline\">\n<div\n      style={{\n       // display: 'flex',\n        justifyContent: 'space-between',\n        position: 'relative',\n        width:  '100%',\n        //height: '50vh',\n        height: '150vh',\n        overflow: 'auto',\n      }}\n    \n    >\n<div\n        style={{width: '100%', height: '100%', border: '1px solid #ccc'}}\n      >\n        <FlexibleXYPlot  id=\"timeline-chart\">\n        {/* xType=\"time\" */}\n        <GradientDefs>\n          <linearGradient id=\"CoolGradient\" y1=\"0\" y2=\"0\" x1=\"0\" x2=\"1\">\n            <stop offset=\"0%\" stopColor=\"green\" stopOpacity={0.4}/>\n            <stop offset=\"50%\" stopColor=\"yellow\" stopOpacity={0.4}/>\n            <stop offset=\"100%\" stopColor=\"red\" stopOpacity={0.4} />\n          </linearGradient>\n        </GradientDefs>\n\n        <HorizontalGridLines />\n     \n        {/* <YAxis \n        position=\"start\"\n        tickTotal={2}\n        // top={40}\n        top={0}\n        //height={150}\n        //width={1}\n        style={{\n            text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n          }}\n          //tickLabelAngle={-45}\n          /> */}\n        \n        \n        <LineSeries \n        data={this.state.rawData}\n        color={'black'}\n        animation\n        style={{\n            strokeLinejoin: 'round',\n            strokeWidth: 4\n          }}\n        />\n        {/* <HorizontalBarSeries \n        data={this.state.rawData}\n        color={'url(#CoolGradient)'}\n        animation\n        /> */}\n\n         <YAxis \n         position=\"start\"\n         tickValues={this.state.rawData.map(value => value.y)} \n         tickSize={1}\n         /> \n        {/* \n        <LabelSeries\n                    data={this.state.rawData.map(obj => {\n                        return { ...obj, label: obj.y.toString() }\n                    })}\n                    \n                    animation\n                    labelAnchorX=\"middle\"\n                    labelAnchorY=\"text-before-edge\"\n                    \n                    />\n\n\n\n        <LabelSeries\n        \n                    //data={this.xlabelData('top')}\n                    data={this.state.rawData.map(obj => {\n                        \n                        return { ...obj, y: this.props.mobileUser ? -3 : -18, rotation: this.props.mobileUser ? 90 : 0, label: `${obj.y.split('|')[0]}` }\n                    })}\n                    animation\n                    labelAnchorX={this.props.mobileUser ? \"start\" : \"middle\"}\n                    //labelAnchorY=\"text-before-edge\"\n                    labelAnchorY={this.props.mobileUser ? \"text-after-edge\" : \"baseline\"}\n                    style={{\n                        text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n                      }}\n                    />\n        <LabelSeries\n                    data={this.state.rawData.map(obj => {\n\n                        return { ...obj, y: this.props.mobileUser ? -3 :-34, rotation: this.props.mobileUser ? 90 : 0, label: `${obj.y.split('|')[1]}` }\n                    })}\n                    animation\n                    labelAnchorX={this.props.mobileUser ? \"start\" : \"middle\"}\n                    //labelAnchorY=\"text-before-edge\"\n                    //labelAnchorY=\"baseline\"\n                    labelAnchorY={this.props.mobileUser ? \"text-before-edge\" : \"baseline\"}\n                    style={{\n                        text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n                      }}\n                    /> */}\n\n\n\n        </FlexibleXYPlot>\n      </div>\n\n</div>\n     \n\n        </div>\n\n\n            </div>\n        );\n    }\n}\n\nexport default Timeline;\n"]},"metadata":{},"sourceType":"module"}