{"ast":null,"code":"var _jsxFileName = \"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/src/components/Forecast.js\";\nimport React, { Component } from 'react';\nimport { Dropdown, Accordion, Table, Dimmer, Loader, Card, Button } from 'semantic-ui-react';\nimport SummaryChart from './SummaryChart';\nimport TitleContent from '../content/TitleContent';\nimport PostCodeSearch from './PostCodeSearch';\nexport class Forecast extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      period: 48,\n      region: 18,\n      sortByLevel: false,\n      bestPeriodDisplayDay: true,\n      bestPeriodLoaded: false,\n      bestPeriodsDay: [{\n        description: \"Loading \\n Loading \\n Loading\"\n      }],\n      bestPeriodsNight: [{\n        description: \"Loading \\n Loading \\n Loading\"\n      }]\n    };\n    this.periodOptions = [{\n      key: 6,\n      text: '+6 hours',\n      value: 12 //   image: { avatar: true, src: 'https://react.semantic-ui.com/images/avatar/small/jenny.jpg' },\n\n    }, {\n      key: 8,\n      text: '+8 hours',\n      value: 16\n    }, {\n      key: 12,\n      text: '+12 hours',\n      value: 24\n    }, {\n      key: 24,\n      text: '+24 hours',\n      value: 48\n    }, {\n      key: 48,\n      text: '+48 hours',\n      value: 96\n    }, {\n      key: 100,\n      text: 'Max',\n      value: 500\n    }];\n\n    this.parseDate = input => {\n      let optionsDate = {\n        weekday: 'short',\n        day: 'numeric',\n        month: 'numeric'\n      };\n      let optionsTime = {\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: true\n      };\n      let parsedDate = new Date(Date.UTC(parseInt(input.slice(0, 4), 10), parseInt(input.slice(5, 7), 10) - 1, parseInt(input.slice(8, 10), 10), parseInt(input.slice(11, 13), 10), parseInt(input.slice(14, 16), 10) //parseInt(input.slice(13,15), 10)\n      ));\n      return \"\".concat(parsedDate.toLocaleString(\"en-GB\", optionsTime), \" \").concat(parsedDate.toLocaleString(\"en-GB\", optionsDate));\n    };\n\n    this.genRegionOptions = () => {\n      let output = this.props.regionIndex.map(obj => {\n        return {\n          key: obj.id,\n          text: obj.name,\n          value: obj.id\n        };\n      });\n      output.sort((a, b) => a.key < b.key ? 1 : -1);\n      return output;\n    };\n\n    this.setPeriod = (event, data) => {\n      // console.log(data.value)\n      this.setState({\n        period: data.value\n      });\n    };\n\n    this.setRegion = (event, data) => {\n      // console.log(data.value)\n      this.setState({\n        region: data.value\n      });\n    };\n\n    this.controlSort = () => {\n      let newProps = this.props.aggedVals;\n\n      if (this.state.sortByLevel == !true) {\n        newProps = this.props.aggedVals.sort((a, b) => Date.parse(a.from) > Date.parse(b.from) ? 1 : -1);\n      } else if (this.state.sortByLevel === true) {\n        newProps = this.props.aggedVals.sort((a, b) => a.level > b.level ? 1 : -1);\n      }\n\n      return newProps;\n    };\n\n    this.handleSortButton = event => {\n      let newVal = this.state.sortByLevel ? false : true;\n      this.setState({\n        sortByLevel: newVal\n      });\n    };\n\n    this.handleDayNightButton = event => {\n      let newVal = this.state.bestPeriodDisplayDay ? false : true;\n      this.setState({\n        bestPeriodDisplayDay: newVal\n      });\n    };\n\n    this.renderBestPeriods = () => {\n      //let bestDay = this.props.bestPeriods.length > 0 ? this.props.bestPeriods.day : [ {from: 'Loading',level:'Loading',text:'Loading'} ]\n      let bestDay = this.props.bestPeriods.day;\n      let bestNight = this.props.bestPeriods.night;\n      let dayOutput = [];\n      let nightOutput = [];\n      let dayOutputBig = [];\n      let nightOutputBig = [];\n\n      if (typeof bestDay[0] !== 'undefined' && typeof bestDay[1] !== 'undefined' && typeof bestDay[2] !== 'undefined') {\n        dayOutput = [{\n          description: \"\".concat(this.parseDate(bestDay[0].from), \"\\n\").concat(bestDay[0].level, \"\\n\").concat(bestDay[0].text)\n        }, {\n          description: \"\".concat(this.parseDate(bestDay[1].from), \"\\n\").concat(bestDay[1].level, \"\\n\").concat(bestDay[1].text)\n        }, {\n          description: \"\".concat(this.parseDate(bestDay[2].from), \"\\n\").concat(bestDay[2].level, \"\\n\").concat(bestDay[2].text)\n        }];\n        dayOutputBig = [{\n          header: \"\".concat(this.parseDate(bestDay[0].from)),\n          description: \"\".concat(bestDay[0].level, \"\\n\").concat(bestDay[0].text)\n        }, {\n          header: \"\".concat(this.parseDate(bestDay[1].from)),\n          description: \"\".concat(bestDay[1].level, \"\\n\").concat(bestDay[1].text)\n        }, {\n          header: \"\".concat(this.parseDate(bestDay[2].from)),\n          description: \"\".concat(bestDay[2].level, \"\\n\").concat(bestDay[2].text)\n        }];\n      } else {\n        dayOutput = [{\n          description: \"Please increase period to include night-time hours \"\n        }];\n        dayOutputBig = [{\n          description: \"Please increase period to include night-time hours \"\n        }];\n      }\n\n      if (typeof bestNight[0] !== 'undefined' && typeof bestNight[1] !== 'undefined' && typeof bestNight[2] !== 'undefined') {\n        nightOutput = [{\n          description: \"\".concat(this.parseDate(bestNight[0].from), \"\\n\").concat(bestNight[0].level, \"\\n\").concat(bestNight[0].text)\n        }, {\n          description: \"\".concat(this.parseDate(bestNight[1].from), \"\\n\").concat(bestNight[1].level, \"\\n\").concat(bestNight[1].text)\n        }, {\n          description: \"\".concat(this.parseDate(bestNight[2].from), \"\\n\").concat(bestNight[2].level, \"\\n\").concat(bestNight[2].text)\n        }];\n        nightOutputBig = [{\n          header: \"\".concat(this.parseDate(bestNight[0].from)),\n          description: \"\".concat(bestNight[0].level, \"\\n\").concat(bestNight[0].text)\n        }, {\n          header: \"\".concat(this.parseDate(bestNight[1].from)),\n          description: \"\".concat(bestNight[1].level, \"\\n\").concat(bestNight[1].text)\n        }, {\n          header: \"\".concat(this.parseDate(bestNight[2].from)),\n          description: \"\".concat(bestNight[2].level, \"\\n\").concat(bestNight[2].text)\n        }];\n      } else {\n        nightOutput = [{\n          description: \"Please increase period to include night-time hours \"\n        }];\n        nightOutputBig = [{\n          description: \"Please increase period to include night-time hours \"\n        }];\n      }\n\n      this.setState({\n        bestPeriodsDay: this.props.mobileUser ? dayOutput : dayOutputBig,\n        bestPeriodsNight: this.props.mobileUser ? nightOutput : nightOutputBig\n      }); // return output\n    };\n\n    this.handleDropDown = data => {\n      return this.props.updateRegion(data.value);\n    };\n  }\n\n  componentDidMount() {\n    if (typeof this.props.bestPeriods !== 'undefined') {\n      if (typeof this.props.bestPeriods.day !== 'undefined' || typeof this.props.bestPeriods.night !== 'undefined') {\n        if (typeof this.props.bestPeriods.day[0] !== 'undefined' || typeof this.props.bestPeriods.night[0] !== 'undefined') {\n          this.renderBestPeriods();\n        }\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.bestPeriods !== prevProps.bestPeriods) {\n      this.renderBestPeriods();\n    }\n\n    if (this.props.aggedVals !== prevProps.aggedVals) {}\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bgPanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \" \", React.createElement(\"span\", {\n      className: \"textHighlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \" Forecast Summary \"), \" \"), React.createElement(Accordion, {\n      defaultActiveIndex: [0],\n      panels: TitleContent.forecastSummaryTitle,\n      exclusive: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bgPanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"textHighlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Top 3 Periods\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Top 3 times to use electricity duiring this period:\"), React.createElement(Card.Group, {\n      itemsPerRow: 3,\n      items: this.state.bestPeriodDisplayDay ? this.state.bestPeriodsDay : this.state.bestPeriodsNight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), React.createElement(Button, {\n      size: \"small\",\n      attached: \"left\",\n      active: this.state.bestPeriodDisplayDay,\n      toggle: true,\n      onClick: this.handleDayNightButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"Day\"), React.createElement(Button, {\n      size: \"small\",\n      attached: \"right\",\n      active: !this.state.bestPeriodDisplayDay,\n      toggle: true,\n      onClick: this.handleDayNightButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Night\")), React.createElement(\"div\", {\n      className: \"bgPanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Options\"), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"Selected: Period: \", this.props.setPeriod <= 48 ? \"+\".concat(this.props.setPeriod / 2, \" hrs\") : 'Max', \"  |  Region: \", this.props.useId ? this.props.regionName : this.props.setPostCode, \" \"), React.createElement(Dimmer, {\n      active: this.props.loading,\n      page: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Loading\")), React.createElement(Table, {\n      columns: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"Period:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }), React.createElement(Dropdown, {\n      compact: this.props.mobileUser ? true : false,\n      placeholder: this.props.setPeriod <= 48 ? \"+\".concat(this.props.setPeriod / 2, \" hrs\") : 'Max',\n      selection: \"2\",\n      options: this.periodOptions,\n      onChange: (event, data) => this.props.updatePeriod(data.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    })), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    })), React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"Region\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }), React.createElement(Dropdown, {\n      placeholder: this.props.useId ? this.props.regionName : 'Select Region',\n      selection: true,\n      options: this.genRegionOptions(),\n      onChange: (event, data) => {\n        this.handleDropDown(data);\n      } //onChange={(event, data) => {this.props.updateRegion(data.value)}}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    })), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(PostCodeSearch, {\n      updatePostCode: this.props.updatePostCode,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      id: \"summary-chart\",\n      className: \"bgPanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, \"Summary Chart\"), React.createElement(SummaryChart, {\n      aggedVals: this.controlSort(),\n      sortTrigger: this.state.sortByLevel,\n      mobileUser: this.props.mobileUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      class: \"ui button\",\n      onClick: this.handleSortButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, \"Sort By \", this.state.sortByLevel ? 'Time' : 'Intensity Level')));\n  }\n\n}\nexport default Forecast;","map":{"version":3,"sources":["/Users/Chris/Development/Final-Project/carbon-forecast-frontend/src/components/Forecast.js"],"names":["React","Component","Dropdown","Accordion","Table","Dimmer","Loader","Card","Button","SummaryChart","TitleContent","PostCodeSearch","Forecast","state","period","region","sortByLevel","bestPeriodDisplayDay","bestPeriodLoaded","bestPeriodsDay","description","bestPeriodsNight","periodOptions","key","text","value","parseDate","input","optionsDate","weekday","day","month","optionsTime","hour","minute","hour12","parsedDate","Date","UTC","parseInt","slice","toLocaleString","genRegionOptions","output","props","regionIndex","map","obj","id","name","sort","a","b","setPeriod","event","data","setState","setRegion","controlSort","newProps","aggedVals","parse","from","level","handleSortButton","newVal","handleDayNightButton","renderBestPeriods","bestDay","bestPeriods","bestNight","night","dayOutput","nightOutput","dayOutputBig","nightOutputBig","header","mobileUser","handleDropDown","updateRegion","componentDidMount","componentDidUpdate","prevProps","prevState","render","forecastSummaryTitle","useId","regionName","setPostCode","loading","updatePeriod","updatePostCode"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Dropdown, Accordion, Table, Dimmer,Loader, Card, Button,} from 'semantic-ui-react';\nimport SummaryChart from './SummaryChart';\nimport TitleContent from '../content/TitleContent';\nimport PostCodeSearch from './PostCodeSearch';\n\nexport class Forecast extends Component {\n\n\nstate = {\n    period: 48,\n    region: 18,\n    sortByLevel: false,\n    bestPeriodDisplayDay: true,\n    bestPeriodLoaded: false,\n    bestPeriodsDay: [{description: `Loading \\n Loading \\n Loading`}],\n    bestPeriodsNight: [{description: `Loading \\n Loading \\n Loading`}]\n}\n\ncomponentDidMount () {\n    if (typeof this.props.bestPeriods !== 'undefined'){\n       if (typeof this.props.bestPeriods.day !== 'undefined' || typeof this.props.bestPeriods.night !== 'undefined'){\n            if (typeof this.props.bestPeriods.day[0] !== 'undefined' || typeof this.props.bestPeriods.night[0] !== 'undefined'){\n                this.renderBestPeriods()\n    }\n    }\n}\n\n}\n\ncomponentDidUpdate (prevProps, prevState) {\n    if (this.props.bestPeriods !== prevProps.bestPeriods){\n        this.renderBestPeriods()\n    }\n\n    if (this.props.aggedVals !== prevProps.aggedVals) {\n    \n    }\n}\n    periodOptions = [\n            {\n              key: 6,\n              text: '+6 hours',\n              value: 12,\n            //   image: { avatar: true, src: 'https://react.semantic-ui.com/images/avatar/small/jenny.jpg' },\n            },\n            {\n              key: 8,\n              text: '+8 hours',\n              value: 16,\n            },\n            {\n              key: 12,\n              text: '+12 hours',\n              value: 24,\n            },\n            {\n              key: 24,\n              text: '+24 hours',\n              value: 48,\n            },\n            {\n              key: 48,\n              text: '+48 hours',\n              value: 96,\n            },\n            {\n              key: 100,\n              text: 'Max',\n              value: 500,\n            },\n          ]\n\n\n\n        \n          parseDate = (input) => {\n            let optionsDate = { weekday: 'short', day: 'numeric', month: 'numeric' };\n            let optionsTime = { hour: 'numeric', minute: 'numeric', hour12: true};\n                   let parsedDate = new Date(Date.UTC(\n                       parseInt(input.slice(0, 4), 10),\n                       parseInt(input.slice(5, 7), 10) - 1,\n                       parseInt(input.slice(8, 10), 10),\n                       parseInt(input.slice(11, 13), 10),\n                       parseInt(input.slice(14, 16), 10),\n                     //parseInt(input.slice(13,15), 10)\n                   ))\n                   return (`${parsedDate.toLocaleString(\"en-GB\", optionsTime)} ${parsedDate.toLocaleString(\"en-GB\", optionsDate)}`)\n           }\n\n\n          genRegionOptions = () => {\n          let output = this.props.regionIndex.map(obj => {\n                return {key: obj.id, text: obj.name, value: obj.id}\n            })\n            output.sort((a,b) => (a.key < b.key) ? 1 : -1)\n            return output\n        }\n\n        setPeriod = (event, data) => {\n            // console.log(data.value)\n            this.setState({\n                period: data.value\n            })\n        }\n        setRegion = (event, data) => {\n            // console.log(data.value)\n            this.setState({\n                region: data.value\n            })\n        }\n\n        controlSort = () => {\n            let newProps = this.props.aggedVals\n          if (this.state.sortByLevel ==! true){\n           newProps = this.props.aggedVals.sort((a,b) => (Date.parse(a.from) > Date.parse(b.from)? 1 : -1))\n            }\n            else if (this.state.sortByLevel === true){\n                newProps = this.props.aggedVals.sort((a,b) => a.level > b.level? 1 : -1)\n            }\n                 return newProps\n        }\n\n        handleSortButton = (event) => {\n            let newVal = this.state.sortByLevel ? false : true\n            this.setState({sortByLevel: newVal})\n        } \n        handleDayNightButton = (event) => {\n            let newVal = this.state.bestPeriodDisplayDay ? false : true\n            this.setState({bestPeriodDisplayDay: newVal})\n        }\n\n        \n\n    renderBestPeriods = () => {\n                \n        //let bestDay = this.props.bestPeriods.length > 0 ? this.props.bestPeriods.day : [ {from: 'Loading',level:'Loading',text:'Loading'} ]\n        let bestDay =   this.props.bestPeriods.day\n        let bestNight = this.props.bestPeriods.night\n        \n        let dayOutput = []\n        let nightOutput = []\n        let dayOutputBig = []\n        let nightOutputBig = []\n\n        if (typeof bestDay[0] !== 'undefined' && typeof bestDay[1] !== 'undefined' && typeof bestDay[2] !== 'undefined') {\n        dayOutput = [\n                       { description:  `${this.parseDate(bestDay[0].from)}\\n${bestDay[0].level}\\n${bestDay[0].text}`},\n                       { description:  `${this.parseDate(bestDay[1].from)}\\n${bestDay[1].level}\\n${bestDay[1].text}`},\n                       { description:  `${this.parseDate(bestDay[2].from)}\\n${bestDay[2].level}\\n${bestDay[2].text}`},\n                ]\n        dayOutputBig = [\n                       { header: `${this.parseDate(bestDay[0].from)}`, description:`${bestDay[0].level}\\n${bestDay[0].text}`},\n                       { header:  `${this.parseDate(bestDay[1].from)}`, description:`${bestDay[1].level}\\n${bestDay[1].text}`},\n                       { header:  `${this.parseDate(bestDay[2].from)}`, description:`${bestDay[2].level}\\n${bestDay[2].text}`},\n                ]\n            \n            }else{\n        dayOutput = [  { description:  `Please increase period to include night-time hours `}]\n        dayOutputBig = [  { description:  `Please increase period to include night-time hours `}]\n                }\n\n\n                \n\n        if (typeof bestNight[0] !== 'undefined' && typeof bestNight[1] !== 'undefined' && typeof bestNight[2] !== 'undefined'){\n        nightOutput = [\n                       { description:  `${this.parseDate(bestNight[0].from)}\\n${bestNight[0].level}\\n${bestNight[0].text}`},\n                       { description:  `${this.parseDate(bestNight[1].from)}\\n${bestNight[1].level}\\n${bestNight[1].text}`},\n                       { description:  `${this.parseDate(bestNight[2].from)}\\n${bestNight[2].level}\\n${bestNight[2].text}`},\n                    ]\n                    nightOutputBig = [\n                        { header: `${this.parseDate(bestNight[0].from)}`, description:`${bestNight[0].level}\\n${bestNight[0].text}`},\n                        { header:  `${this.parseDate(bestNight[1].from)}`, description:`${bestNight[1].level}\\n${bestNight[1].text}`},\n                        { header:  `${this.parseDate(bestNight[2].from)}`, description:`${bestNight[2].level}\\n${bestNight[2].text}`},\n                 ]\n\n                }else {\n                   nightOutput = [  { description:  `Please increase period to include night-time hours `}]\n                   nightOutputBig = [  { description:  `Please increase period to include night-time hours `}]\n\n            }\n            \n        this.setState({\n            bestPeriodsDay: this.props.mobileUser ? dayOutput : dayOutputBig ,\n            bestPeriodsNight: this.props.mobileUser ? nightOutput : nightOutputBig\n        })\n        // return output\n    } \n\n  \n\n    handleDropDown = (data) => {\n        return (\n                this.props.updateRegion(data.value)\n                )\n            }\n\n    \n    render() {\n        return (\n            \n            <div>\n\n\n\n<div className=\"bgPanel\">\n           <h1> <span className=\"textHighlight\"> Forecast Summary </span> </h1>\n      <Accordion defaultActiveIndex={[0]} panels={TitleContent.forecastSummaryTitle} exclusive={false}/>\n      </div>\n\n            <div>\n                <div className=\"bgPanel\">\n    <h2><span className=\"textHighlight\">Top 3 Periods</span></h2>\n    \n    <p>Top 3 times to use electricity duiring this period:\n    </p>\n <Card.Group itemsPerRow={3} items={this.state.bestPeriodDisplayDay ? this.state.bestPeriodsDay : this.state.bestPeriodsNight} />\n    \n   \n<br></br>\n        <Button size='small'  attached='left'\n        active={this.state.bestPeriodDisplayDay}\n        toggle\n        onClick={this.handleDayNightButton}\n        >Day</Button>\n        <Button size='small' attached='right'\n        active={!this.state.bestPeriodDisplayDay}\n        toggle\n        onClick={this.handleDayNightButton}\n        >Night</Button>\n\n</div>\n\n\n<div className=\"bgPanel\">\n\n\n    <h2>Options</h2>\n    <h4>Selected: Period: {this.props.setPeriod <= 48 ? `+${this.props.setPeriod/2} hrs` : 'Max'}  |  Region: {this.props.useId ? this.props.regionName : this.props.setPostCode} </h4>\n\n    \n     <Dimmer active={this.props.loading} page>\n        <Loader>Loading</Loader>\n    </Dimmer> \n\n<Table   columns={2}>\n<Table.Row>\n<Table.Cell>\n    Period:\n    <br />\n    <Dropdown\n         compact={this.props.mobileUser ? true : false}\n         placeholder={this.props.setPeriod <= 48 ? `+${this.props.setPeriod/2} hrs` : 'Max'}\n         selection='2'\n         options={this.periodOptions}\n         onChange={(event, data) => this.props.updatePeriod(data.value)}\n         />\n    </Table.Cell>\n\n            <Table.Cell>\n  \n   </Table.Cell>\n   </Table.Row>\n\n   <Table.Row>\n    <Table.Cell>\n        Region\n        <br/>\n    <Dropdown\n          placeholder={this.props.useId ? this.props.regionName : 'Select Region'}\n          selection\n          options={this.genRegionOptions()}\n          onChange={(event, data) => {this.handleDropDown(data)}}\n          //onChange={(event, data) => {this.props.updateRegion(data.value)}}\n        />\n    </Table.Cell>\n        <Table.Cell>\n           \n   <PostCodeSearch updatePostCode={this.props.updatePostCode}/>\n    </Table.Cell>\n    </Table.Row>\n </Table>\n\n </div>\n\n\n</div>\n\n\n{/* <Divider horizontal>Carbon Levels</Divider> */}\n\n<div id=\"summary-chart\" className=\"bgPanel\">\n<h2>Summary Chart</h2>\n<SummaryChart aggedVals={this.controlSort()} sortTrigger={this.state.sortByLevel} mobileUser={this.props.mobileUser}/>\n<button class=\"ui button\" onClick={this.handleSortButton}>Sort By {this.state.sortByLevel ? 'Time' : 'Intensity Level'}</button>\n</div>\n\n\n</div>\n        );\n    }\n}\n\nexport default Forecast;\n"]},"metadata":{},"sourceType":"module"}