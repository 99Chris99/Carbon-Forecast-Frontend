{"ast":null,"code":"import _defineProperty from \"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/src/components/SummaryChart.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react'; // import './App.css';\n// import '../node_modules/react-vis/dist/style.css';\n\nimport { XYPlot, LineSeries, HorizontalGridLines, XAxis, YAxis, Borders, VerticalGridLines, VerticalBarSeries, GradientDefs, AreaSeries, FlexibleXYPlot, LabelSeries } from 'react-vis';\nimport { ItemMeta } from 'semantic-ui-react';\n\nclass SummaryChart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rawData: [{\n        x: 'A',\n        y: 0\n      }, {\n        x: 'A',\n        y: 0\n      }, {\n        x: 'A',\n        y: 0\n      }, {\n        x: 'A',\n        y: 0\n      }, {\n        x: 'A',\n        y: 0\n      }, {\n        x: 'A',\n        y: 0\n      }, {\n        x: 'A',\n        y: 0\n      }, {\n        x: 'A',\n        y: 0\n      }, {\n        x: 'A',\n        y: 0\n      }, {\n        x: 'A',\n        y: 0\n      }],\n      barPosition: {\n        date: '',\n        offset: 0\n      }\n    };\n\n    this.parseDate = input => {\n      let optionsDate = {\n        weekday: 'short',\n        day: 'numeric',\n        month: 'numeric'\n      };\n      let optionsTime = {\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: true\n      };\n      let parsedDate = new Date(Date.UTC(parseInt(input.slice(0, 4), 10), parseInt(input.slice(5, 7), 10) - 1, parseInt(input.slice(8, 10), 10), parseInt(input.slice(11, 13), 10), parseInt(input.slice(14, 16), 10) //parseInt(input.slice(13,15), 10)\n      ));\n      return \"\".concat(parsedDate.toLocaleString(\"en-GB\", optionsTime), \"|\").concat(parsedDate.toLocaleString(\"en-GB\", optionsDate));\n    };\n\n    this.formatData = () => {\n      let data = [];\n\n      if (this.props.aggedVals !== []) {\n        this.props.aggedVals.map(item => {\n          let bar = {\n            x: \"\".concat(this.parseDate(item.from)),\n            y: item.level\n          };\n          return data = [...data, bar];\n        });\n        console.log(data);\n        this.setState({\n          rawData: data\n        });\n      }\n    };\n\n    this.handleWidth = () => {\n      let width = '100%';\n\n      if (this.props.aggedVals.length > 8 && this.props.aggedVals.length < 20) {\n        width = '250%';\n      } else if (this.props.aggedVals.length >= 20 && this.props.aggedVals.length < 30) {\n        width = '350%';\n      } else if (this.props.aggedVals.length >= 30) {\n        width = '500%';\n      }\n\n      return width;\n    };\n  }\n\n  componentDidMount() {\n    this.formatData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.aggedVals !== prevProps.aggedVals || this.props.sortTrigger !== prevProps.sortTrigger) {\n      this.formatData();\n    }\n  }\n\n  render() {\n    // const data = [\n    //   {x: 0, y: 8},\n    //   {x: 1, y: 5},\n    //   {x: 2, y: 4},\n    //   {x: 3, y: 9},\n    //   {x: 4, y: 1},\n    //   {x: 5, y: 7},\n    //   {x: 6, y: 6},\n    //   {x: 7, y: 3},\n    //   {x: 8, y: 2},\n    //   {x: 9, y: 0}\n    // ];\n    return React.createElement(\"div\", {\n      id: \"summary-chart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        // display: 'flex',\n        justifyContent: 'space-between',\n        position: 'relative',\n        width: this.handleWidth(),\n        height: '50vh',\n        overflow: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: '99%',\n        height: '100%',\n        border: '1px solid #ccc'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(FlexibleXYPlot, {\n      xType: \"ordinal\",\n      margin: {\n        bottom: 80,\n        left: 0,\n        right: 0,\n        top: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(GradientDefs, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"linearGradient\", {\n      id: \"CoolGradient\",\n      x1: \"0\",\n      x2: \"0\",\n      y1: \"0\",\n      y2: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"stop\", {\n      offset: \"0%\",\n      stopColor: \"red\",\n      stopOpacity: 1.0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"stop\", {\n      offset: \"50%\",\n      stopColor: \"yellow\",\n      stopOpacity: .4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"stop\", {\n      offset: \"100%\",\n      stopColor: \"green\",\n      stopOpacity: 0.4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))), React.createElement(VerticalBarSeries, {\n      data: this.state.rawData,\n      color: 'url(#CoolGradient)',\n      animation: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(LabelSeries, {\n      data: this.state.rawData.map(obj => {\n        return _objectSpread({}, obj, {\n          label: obj.y.toString()\n        });\n      }),\n      animation: true,\n      labelAnchorX: \"middle\",\n      labelAnchorY: \"text-before-edge\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(LabelSeries //data={this.xlabelData('top')}\n    , {\n      data: this.state.rawData.map(obj => {\n        return _objectSpread({}, obj, {\n          y: this.props.mobileUser ? -3 : -18,\n          rotation: this.props.mobileUser ? 90 : 0,\n          label: \"\".concat(obj.x.split('|')[0])\n        });\n      }),\n      animation: true,\n      labelAnchorX: this.props.mobileUser ? \"start\" : \"middle\" //labelAnchorY=\"text-before-edge\"\n      ,\n      labelAnchorY: this.props.mobileUser ? \"text-after-edge\" : \"baseline\",\n      style: {\n        text: {\n          stroke: 'none',\n          fill: '#6b6b76',\n          fontWeight: 800,\n          fontSize: 10\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(LabelSeries, {\n      data: this.state.rawData.map(obj => {\n        return _objectSpread({}, obj, {\n          y: this.props.mobileUser ? -3 : -34,\n          rotation: this.props.mobileUser ? 90 : 0,\n          label: \"\".concat(obj.x.split('|')[1])\n        });\n      }),\n      animation: true,\n      labelAnchorX: this.props.mobileUser ? \"start\" : \"middle\" //labelAnchorY=\"text-before-edge\"\n      //labelAnchorY=\"baseline\"\n      ,\n      labelAnchorY: this.props.mobileUser ? \"text-before-edge\" : \"baseline\",\n      style: {\n        text: {\n          stroke: 'none',\n          fill: '#6b6b76',\n          fontWeight: 800,\n          fontSize: 10\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default SummaryChart;","map":{"version":3,"sources":["/Users/Chris/Development/Final-Project/carbon-forecast-frontend/src/components/SummaryChart.js"],"names":["React","Component","XYPlot","LineSeries","HorizontalGridLines","XAxis","YAxis","Borders","VerticalGridLines","VerticalBarSeries","GradientDefs","AreaSeries","FlexibleXYPlot","LabelSeries","ItemMeta","SummaryChart","state","rawData","x","y","barPosition","date","offset","parseDate","input","optionsDate","weekday","day","month","optionsTime","hour","minute","hour12","parsedDate","Date","UTC","parseInt","slice","toLocaleString","formatData","data","props","aggedVals","map","item","bar","from","level","console","log","setState","handleWidth","width","length","componentDidMount","componentDidUpdate","prevProps","prevState","sortTrigger","render","justifyContent","position","height","overflow","border","bottom","left","right","top","obj","label","toString","mobileUser","rotation","split","text","stroke","fill","fontWeight","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import './App.css';\n// import '../node_modules/react-vis/dist/style.css';\nimport {XYPlot, LineSeries, HorizontalGridLines, XAxis, YAxis, Borders, VerticalGridLines, VerticalBarSeries, GradientDefs, AreaSeries, FlexibleXYPlot, LabelSeries} from 'react-vis';\nimport { ItemMeta } from 'semantic-ui-react';\n\nclass SummaryChart extends Component {\n\n    state = {\n        rawData: [{x: 'A', y: 0},\n            {x: 'A', y: 0},\n            {x: 'A', y: 0},\n            {x: 'A', y: 0},\n            {x: 'A', y: 0},\n            {x: 'A', y: 0},\n            {x: 'A', y: 0},\n            {x: 'A', y: 0},\n            {x: 'A', y: 0},\n            {x: 'A', y: 0}],\n        barPosition: {date: '', offset: 0}\n    }\n\n\n    componentDidMount () {\n        this.formatData()\n    }\n\n    componentDidUpdate (prevProps, prevState) {\n        if (this.props.aggedVals !== prevProps.aggedVals || this.props.sortTrigger !== prevProps.sortTrigger) {\n            this.formatData()\n        }\n    }\n\n    parseDate = (input) => {\n        let optionsDate = { weekday: 'short', day: 'numeric', month: 'numeric' };\n        let optionsTime = { hour: 'numeric',minute: 'numeric', hour12: true};\n               let parsedDate = new Date(Date.UTC(\n                   parseInt(input.slice(0, 4), 10),\n                   parseInt(input.slice(5, 7), 10) - 1,\n                   parseInt(input.slice(8, 10), 10),\n                   parseInt(input.slice(11, 13), 10),\n                   parseInt(input.slice(14, 16), 10),\n                 //parseInt(input.slice(13,15), 10)\n               ))\n               return (`${parsedDate.toLocaleString(\"en-GB\", optionsTime)}|${parsedDate.toLocaleString(\"en-GB\", optionsDate)}`)\n       }\n\n    formatData = () => {\n        let data = []\n        \n        if (this.props.aggedVals !== [] ) {\n        this.props.aggedVals.map(item => {\n            let bar = {x: `${this.parseDate(item.from)}`, y:item.level} \n            return data = [...data, bar]\n        })\n        console.log(data)\n        this.setState({rawData: data})    \n    }\n    }\n\n    handleWidth = () => {\n      let  width = '100%'\n        if (this.props.aggedVals.length > 8 && this.props.aggedVals.length < 20) {\n            width = '250%'\n        }else if (this.props.aggedVals.length >= 20 && this.props.aggedVals.length < 30) {\n            width = '350%'\n        }else if (this.props.aggedVals.length >= 30) {\n            width = '500%'\n        }\n    return width\n    }\n\n\n  render() {\n    // const data = [\n    //   {x: 0, y: 8},\n    //   {x: 1, y: 5},\n    //   {x: 2, y: 4},\n    //   {x: 3, y: 9},\n    //   {x: 4, y: 1},\n    //   {x: 5, y: 7},\n    //   {x: 6, y: 6},\n    //   {x: 7, y: 3},\n    //   {x: 8, y: 2},\n    //   {x: 9, y: 0}\n    // ];\n    return (\n      <div id=\"summary-chart\">\n<div\n      style={{\n       // display: 'flex',\n        justifyContent: 'space-between',\n        position: 'relative',\n        width:  this.handleWidth(),\n        height: '50vh',\n        overflow: 'auto',\n      }}\n    \n    >\n<div\n        style={{width: '99%', height: '100%', border: '1px solid #ccc'}}\n      >\n        <FlexibleXYPlot  xType=\"ordinal\" margin={{bottom: 80, left: 0, right: 0, top: 20}}>\n        \n        <GradientDefs>\n          <linearGradient id=\"CoolGradient\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\n            <stop offset=\"0%\" stopColor=\"red\" stopOpacity={1.0}/>\n            <stop offset=\"50%\" stopColor=\"yellow\" stopOpacity={.4}/>\n            <stop offset=\"100%\" stopColor=\"green\" stopOpacity={0.4} />\n          </linearGradient>\n        </GradientDefs>\n\n      \n     \n        {/* <XAxis \n        position=\"start\"\n        // top={40}\n        top={30}\n        //height={150}\n        //width={1}\n        style={{\n            text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n          }}\n          //tickLabelAngle={-45}\n          tickTotal={2}\n          /> */}\n        \n        {/* <YAxis /> */}\n        \n        <VerticalBarSeries \n        data={this.state.rawData}\n        color={'url(#CoolGradient)'}\n        animation\n        />\n        <LabelSeries\n                    data={this.state.rawData.map(obj => {\n                        return { ...obj, label: obj.y.toString() }\n                    })}\n                    \n                    animation\n                    labelAnchorX=\"middle\"\n                    labelAnchorY=\"text-before-edge\"\n                    \n                    />\n\n\n\n        <LabelSeries\n        \n                    //data={this.xlabelData('top')}\n                    data={this.state.rawData.map(obj => {\n                        \n                        return { ...obj, y: this.props.mobileUser ? -3 : -18, rotation: this.props.mobileUser ? 90 : 0, label: `${obj.x.split('|')[0]}` }\n                    })}\n                    animation\n                    labelAnchorX={this.props.mobileUser ? \"start\" : \"middle\"}\n                    //labelAnchorY=\"text-before-edge\"\n                    labelAnchorY={this.props.mobileUser ? \"text-after-edge\" : \"baseline\"}\n                    style={{\n                        text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n                      }}\n                    />\n        <LabelSeries\n                    data={this.state.rawData.map(obj => {\n\n                        return { ...obj, y: this.props.mobileUser ? -3 :-34, rotation: this.props.mobileUser ? 90 : 0, label: `${obj.x.split('|')[1]}` }\n                    })}\n                    animation\n                    labelAnchorX={this.props.mobileUser ? \"start\" : \"middle\"}\n                    //labelAnchorY=\"text-before-edge\"\n                    //labelAnchorY=\"baseline\"\n                    labelAnchorY={this.props.mobileUser ? \"text-before-edge\" : \"baseline\"}\n                    style={{\n                        text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n                      }}\n                    />\n\n\n\n        </FlexibleXYPlot>\n      </div>\n\n</div>\n     \n\n        </div>\n    );\n  }\n}\n\nexport default SummaryChart;\n"]},"metadata":{},"sourceType":"module"}