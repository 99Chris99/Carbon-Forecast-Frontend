{"ast":null,"code":"import _toConsumableArray from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Chris/Development/Final-Project/carbon-forecast-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{XYPlot,LineSeries,MarkSeries,HorizontalGridLines,Hint,XAxis,YAxis,Borders,VerticalGridLines,HorizontalBarSeries,GradientDefs,AreaSeries,FlexibleXYPlot,LabelSeries}from'react-vis';import{Sticky,Header,Accordion,Table,Dimmer,Loader,TableCell}from'semantic-ui-react';import{withScroll}from'react-window-decorators';import TitleContent from'../content/TitleContent';// @withScroll\nvar Timeline=/*#__PURE__*/function(_Component){_inherits(Timeline,_Component);function Timeline(){var _getPrototypeOf2;var _this;_classCallCheck(this,Timeline);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Timeline)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={rawData:[{y:0,x:0,label:'loading | loadidng'}],barPosition:{date:'',offset:0},labelData:[{lable:'Testing'}],height:50,middle:typeof _this.props.middle!=='undefined'?_this.props.mediumLevel:150,value:null,// scrollCount: 0,\ninitalScrollCounter:0,dataIndex:-1,position:_this.props.scrollPositionY,scrollPlots:[],getLevel:0,yOffset:0,currentLevel:{level:0,time:'loading',text:'loading'}};_this.calYOffset=function(){var stickyTop=document.querySelector('#sticky');var stickyTopVals=stickyTop.getBoundingClientRect();console.log(stickyTopVals);var girdPlotTop=document.querySelector('.rv-xy-plot__grid-lines');var girdPlotTopVals=girdPlotTop.getBoundingClientRect();console.log(girdPlotTopVals);var girdPlotOuterTop=document.querySelector('.rv-xy-plot__inner');var girdPlotOuterTopVals=girdPlotOuterTop.getBoundingClientRect();console.log(girdPlotOuterTopVals);var valA=stickyTopVals.top;var valB=girdPlotTopVals.top-girdPlotOuterTopVals.top;var output=valA+valB-2;//109\n_this.setState({yOffset:output});return output;};_this.chartGap=function(){var chartTop=document.querySelector('.rv-xy-plot__grid-lines');// console.log('clientHeight '+ chartTop.clientHeight )\nvar height=chartTop.getBoundingClientRect();console.log(height);var output=height.height/_this.state.rawData.length;console.log(output);return output;};_this.scrollPlots=function(){setTimeout(function(){return _this.calYOffset();},300);setTimeout(function(){var gap=_this.chartGap();console.log(gap);var scrollPlots=_this.props.timelineVals.map(function(point,index){var data={time:\"\".concat(_this.parseDate(point.from,'time'),\" \").concat(_this.parseDate(point.from,'date')),y:gap*index+index/2,level:point.level,text:point.text};return data;});_this.setState({scrollPlots:scrollPlots});},400);};_this.getLevel=function(){if(_this.state.scrollPlots.length>1){var currY=_this.props.scrollPositionY-_this.state.yOffset;var newArray=_this.state.scrollPlots.map(function(obj){return obj.y;});var closest=newArray.reduce(function(prev,curr){return Math.abs(curr-currY)<Math.abs(prev-currY)?curr:prev;});var found=_this.state.scrollPlots.find(function(obj){return obj.y===closest;});return _this.setState({currentLevel:{level:found.level,time:found.time,text:found.text}});}//return found.level \n};_this.parseDate=function(input,timeOrDate){var output=0;var optionsDate={weekday:'short',day:'numeric',month:'numeric'};var optionsTime={hour:'numeric',minute:'numeric',hour12:true};var options24={hour:'numeric',minute:'numeric',hour12:false};var parsedDate=new Date(Date.UTC(parseInt(input.slice(0,4),10),parseInt(input.slice(5,7),10)-1,parseInt(input.slice(8,10),10),parseInt(input.slice(11,13),10),parseInt(input.slice(14,16),10)//parseInt(input.slice(13,15), 10)\n));if(timeOrDate==='time'){output=parsedDate.toLocaleString(\"en-GB\",optionsTime);}else if(timeOrDate==='date'){output=\"\".concat(parsedDate.toLocaleString(\"en-GB\",optionsDate));}else if(timeOrDate==='24'){output=parsedDate.toLocaleString(\"en-GB\",options24);}return output;};_this.lowCarbonLabel=function(item){var output='';console.log(item.text);//if (item.text.split(' ')[0] === 'Low' || item.text.split(' ')[1] === 'Low' ) {\nif(item.text==='Low'||item.text==='Very Low'){output='â˜…';}return output;};_this.formatData=function(){var data=[];var labelData=[];var dayLabels=[];var middleVal=_this.props.middle;//let middle = this.props.timelineVals[this.props.timelineVals.length-1].level / 2 \nif(_this.props.timelineVals!==[]){_this.props.timelineVals.map(function(item,index){var bar={x:item.level-10,y:-index,label:\"\".concat(_this.lowCarbonLabel(item)),style:{fill:'#00cc66'},yOffset:-25};data=[].concat(_toConsumableArray(data),[bar]);});_this.props.timelineVals.map(function(item,index){var barLabel={x:0,y:-index,label:\"\".concat(_this.parseDate(item.from,'time')),xOffset:-60};labelData=[].concat(_toConsumableArray(labelData),[barLabel]);});_this.props.timelineVals.map(function(item,index){// let middle = this.props.screenWidth / 2\n// let middle = this.state.rawData[this.state.rawData-1].x / 2 \n//middle += 100\nvar day='';if(parseInt(\"\".concat(_this.parseDate(item.from,'24')))<1||index<1){day=\"\".concat(_this.parseDate(item.from,'date'));console.log(day);}var dayLabel={x:_this.state.middle,y:-index,label:day,xOffset:_this.props.mobileUser?0:-30,yOffset:-15};dayLabels=[].concat(_toConsumableArray(dayLabels),[dayLabel]);});}//console.log(data)\n_this.setState({rawData:data,labelData:labelData,dayLabels:dayLabels});};_this.manageHeight=function(){var newHeight=_this.props.timelineVals.length+=400;_this.setState({height:newHeight});};_this._forgetValue=function(){_this.setState({value:null});};_this._rememberValue=function(value){_this.setState({value:value});};_this.colorChange=function(text1,text2,color){if(_this.state.currentLevel.text===text1||_this.state.currentLevel.text===text2){return{color:color,fontWeight:'bold',borderBottom:\"2px solid \".concat(color)};}else return{color:'black',fontWeight:'normal',border:'none'};};return _this;}_createClass(Timeline,[{key:\"componentDidMount\",value:function componentDidMount(){// this.getposition()\n//  this.manageScrollDisplay()\nif(typeof this.props.timelineVals[0]!=='undefined'){return this.formatData(),this.manageHeight();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.props.scrollPositionY!==prevProps.scrollPositionY){return this.getLevel();}if(this.props.timelineVals!==prevProps.timelineVals)return this.formatData(),this.manageHeight();if(this.state.rawData!==prevState.rawData){return this.scrollPlots();}}//       //let chartTop = document.querySelector('.rv-xy-plot__grid-lines')\n//       let chartTop = document.querySelector('.rv-xy-plot__grid-lines')\n//       let chartTopPos = chartTop.getBoundingClientRect() \n//         console.log('clientHeight '+ chartTop.clientHeight )\n},{key:\"render\",value:function render(){//const {value} = this.state\nvar scroll=window.scrollY;// console.log(scrolledDown)\nvar highlight=\"highlight\";return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"bgPanel\"},React.createElement(\"h1\",null,\"Timeline Forecast\"),React.createElement(\"p\",null,\"Use the Forecast Timeline to see the forecast in detail over time.\"),React.createElement(\"p\",null,\"The black line is the Carbon Intensity level. The Carbon Intensity increases as it travels to the right.\"),React.createElement(\"p\",null,\"As you scroll the info panel will update, with the Time, Carbon Intensity Level and Low, Medium, High, indicators.\")),React.createElement(\"div\",{className:\"bgPanel\",style:{background:'#fff'}},React.createElement(\"div\",{style:{height:'800vh'},id:\"bg-fade\"},React.createElement(Dimmer,{active:this.props.loading,page:true},React.createElement(Loader,null,\"Loading\")),React.createElement(\"div\",{id:\"sticky\",height:2},React.createElement(\"h2\",null,\" Carbon Intensity Timeline\"),\" \",React.createElement(\"br\",null),React.createElement(Table,{className:\"sticky-table\",fixed:true,unstackable:true,singleLine:true,celled:true},React.createElement(Table.Body,null,React.createElement(Table.Row,{textAlign:\"center\"},React.createElement(Table.Cell,null,React.createElement(\"h3\",null,this.state.currentLevel.time.slice(8))),React.createElement(Table.Cell,null,React.createElement(\"h3\",null,this.state.currentLevel.time.slice(0,8))),React.createElement(Table.Cell,null,React.createElement(\"h3\",null,\"\".concat(this.state.currentLevel.level,\" CO2e\")))),React.createElement(Table.Row,{textAlign:\"center\"},React.createElement(Table.Cell,null,React.createElement(\"h3\",{style:this.colorChange(\"Low\",\"Very Low\",\"green\")},\"\\u27F5  Low\")),React.createElement(Table.Cell,null,React.createElement(\"h3\",{style:this.colorChange(\"Moderate\",\"Moderate\",\"orange\")},\"Medium\")),React.createElement(Table.Cell,null,React.createElement(\"h3\",{style:this.colorChange(\"High\",\"Very Hight\",\"red\")},\"High  \\u27F6\")))))),React.createElement(\"div\",{id:\"stickyMeasure\"}),React.createElement(\"div\",{id:\"timeline\",height:800,style:{marginBottom:'0vh'}},React.createElement(\"div\",{style:{// display: 'flex',\njustifyContent:'space-between',position:'relative',width:'100%',height:'800vh',//   height: '800vh',\n//height: `${this.state.height}vh`,\noverflow:'auto'}},React.createElement(\"div\",{style:{width:'100%',height:'100%'}// style={{width: '100%', height: '100%', border: '1px solid #ccc'}}\n},React.createElement(FlexibleXYPlot,{id:\"timeline-chart\",margin:{bottom:250,left:80,right:20,top:50}},React.createElement(HorizontalGridLines,{tickTotal:this.state.rawData.length,animation:true}),React.createElement(LineSeries,{data:this.state.rawData,color:'black',animation:true,style:{fill:'none',strokeLinejoin:'round',strokeWidth:8},curve:'curveMonotoneX'}),React.createElement(LabelSeries,{data:this.state.rawData// labelAnchorX={\"end\"}\n// labelAnchorY={\"middle\"}\n}),React.createElement(LabelSeries,{data:this.state.labelData,labelAnchorX:\"start\",labelAnchorY:\"middle\"}),React.createElement(LabelSeries,{data:this.state.dayLabels,labelAnchorX:\"end\",labelAnchorY:\"middle\"}))))))));}}]);return Timeline;}(Component);export default withScroll(Timeline);","map":{"version":3,"sources":["/Users/Chris/Development/Final-Project/carbon-forecast-frontend/src/components/Timeline.js"],"names":["React","Component","XYPlot","LineSeries","MarkSeries","HorizontalGridLines","Hint","XAxis","YAxis","Borders","VerticalGridLines","HorizontalBarSeries","GradientDefs","AreaSeries","FlexibleXYPlot","LabelSeries","Sticky","Header","Accordion","Table","Dimmer","Loader","TableCell","withScroll","TitleContent","Timeline","state","rawData","y","x","label","barPosition","date","offset","labelData","lable","height","middle","props","mediumLevel","value","initalScrollCounter","dataIndex","position","scrollPositionY","scrollPlots","getLevel","yOffset","currentLevel","level","time","text","calYOffset","stickyTop","document","querySelector","stickyTopVals","getBoundingClientRect","console","log","girdPlotTop","girdPlotTopVals","girdPlotOuterTop","girdPlotOuterTopVals","valA","top","valB","output","setState","chartGap","chartTop","length","setTimeout","gap","timelineVals","map","point","index","data","parseDate","from","currY","newArray","obj","closest","reduce","prev","curr","Math","abs","found","find","input","timeOrDate","optionsDate","weekday","day","month","optionsTime","hour","minute","hour12","options24","parsedDate","Date","UTC","parseInt","slice","toLocaleString","lowCarbonLabel","item","formatData","dayLabels","middleVal","bar","style","fill","barLabel","xOffset","dayLabel","mobileUser","manageHeight","newHeight","_forgetValue","_rememberValue","colorChange","text1","text2","color","fontWeight","borderBottom","border","prevProps","prevState","scroll","window","scrollY","highlight","background","loading","marginBottom","justifyContent","width","overflow","bottom","left","right","strokeLinejoin","strokeWidth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {XYPlot, LineSeries, MarkSeries, HorizontalGridLines, Hint, XAxis, YAxis, Borders, VerticalGridLines, HorizontalBarSeries, GradientDefs, AreaSeries, FlexibleXYPlot, LabelSeries} from 'react-vis';\nimport { Sticky, Header, Accordion, Table, Dimmer, Loader, TableCell } from 'semantic-ui-react';\nimport { withScroll } from 'react-window-decorators';\nimport TitleContent from '../content/TitleContent';\n\n// @withScroll\nclass Timeline extends Component {\n\n    state = {\n        rawData: [{y: 0, x: 0, label:'loading | loadidng'}],\n        barPosition: {date: '', offset: 0},\n        labelData: [{lable: 'Testing'}],\n        height: 50,\n        middle: typeof this.props.middle !== 'undefined' ? this.props.mediumLevel : 150,\n        value: null,\n       // scrollCount: 0,\n        initalScrollCounter:0,\n        dataIndex: -1,\n        position: this.props.scrollPositionY,\n        scrollPlots: [],\n        getLevel:0,\n        yOffset:0,\n        currentLevel:{level:0, time:'loading', text:'loading'}\n    }\n\n\n\n    componentDidMount () {\n     // this.getposition()\n     //  this.manageScrollDisplay()\n\n   \n       \n    \n\n         if (typeof this.props.timelineVals[0] !== 'undefined'){\n        return (\n            this.formatData(),\n            this.manageHeight()\n              ) \n            }\n        }\n\n        \n        \n        componentDidUpdate (prevProps, prevState) {\n            if (this.props.scrollPositionY !== prevProps.scrollPositionY) {\n               return (this.getLevel() ) \n            }\n            if (this.props.timelineVals !== prevProps.timelineVals)\n            return (\n                this.formatData(),\n                this.manageHeight()\n                ) \n            if (this.state.rawData !== prevState.rawData)\n            {\n               return (this.scrollPlots() )\n            }\n\n            }\n\n//       //let chartTop = document.querySelector('.rv-xy-plot__grid-lines')\n//       let chartTop = document.querySelector('.rv-xy-plot__grid-lines')\n//       let chartTopPos = chartTop.getBoundingClientRect() \n//         console.log('clientHeight '+ chartTop.clientHeight )\n\n\n\ncalYOffset = () => {\n    const stickyTop = document.querySelector('#sticky')\n    let stickyTopVals = stickyTop.getBoundingClientRect()\n    console.log(stickyTopVals)\n\n    \n    const girdPlotTop = document.querySelector('.rv-xy-plot__grid-lines')\n    let girdPlotTopVals = girdPlotTop.getBoundingClientRect()\n    console.log(girdPlotTopVals)    \n\n    const girdPlotOuterTop = document.querySelector('.rv-xy-plot__inner')\n    let girdPlotOuterTopVals = girdPlotOuterTop.getBoundingClientRect()\n    console.log(girdPlotOuterTopVals)\n    \n    let valA = stickyTopVals.top\n    let valB = girdPlotTopVals.top - girdPlotOuterTopVals.top\n    let output = valA+valB-2 //109\n    this.setState({yOffset: output})\n    return output\n}\n\n    chartGap = () => {\n    \n        const chartTop = document.querySelector('.rv-xy-plot__grid-lines')\n       // console.log('clientHeight '+ chartTop.clientHeight )\n       let height = chartTop.getBoundingClientRect()\n       console.log(height)\n        let output = (height.height / this.state.rawData.length)\n        console.log(output)\n        return output\n    }\n    \n\n\n    scrollPlots = () => {\n        setTimeout(() => this.calYOffset(), 300)\n        \n        setTimeout(() => {\n            let gap =this.chartGap()\n        console.log(gap)\n        let scrollPlots =  this.props.timelineVals.map((point, index) => {    \n        \n        let data = {time:`${this.parseDate(point.from, 'time')} ${this.parseDate(point.from, 'date')}`,\n        y: (gap * index)+(index/2), level: point.level, text: point.text}\n            return data\n        })\n        this.setState({scrollPlots: scrollPlots})\n    },400)\n    }\n    // scrollPlots = () => {\n    //     this.calYOffset()\n    //     let gap =this.chartGap()\n    //     console.log(gap)\n    //    let scrollPlots =  this.state.rawData.map((point, index) => {    \n        \n    //     let data = {y: (gap * (index)), level: point.x}\n    //         return data\n    //     })\n    //     this.setState({scrollPlots: scrollPlots})\n    // }\n\n    getLevel = () => {\n        \n        if (this.state.scrollPlots.length > 1) {\n\n        let currY = this.props.scrollPositionY - this.state.yOffset \n        let newArray = this.state.scrollPlots.map(obj => {\n            return obj.y\n          })\n           let closest = newArray.reduce((prev, curr) => {\n           return (Math.abs(curr - currY) < Math.abs(prev - currY) ? curr : prev);\n           })\n          let found = this.state.scrollPlots.find(obj => {\n            return obj.y === closest\n          })\n         return this.setState({\n              currentLevel:{level: found.level, time:found.time, text:found.text}\n          })\n        }\n          //return found.level \n        \n        }\n\n\n    parseDate = (input, timeOrDate) => {\n        let output = 0\n        let optionsDate = { weekday: 'short', day: 'numeric', month: 'numeric' };\n        let optionsTime = { hour: 'numeric',minute: 'numeric', hour12: true};\n        let options24 = { hour: 'numeric',minute: 'numeric', hour12: false};\n\n               let parsedDate = new Date(Date.UTC(\n                   parseInt(input.slice(0, 4), 10),\n                   parseInt(input.slice(5, 7), 10) - 1,\n                   parseInt(input.slice(8, 10), 10),\n                   parseInt(input.slice(11, 13), 10),\n                   parseInt(input.slice(14, 16), 10),\n                 //parseInt(input.slice(13,15), 10)\n               ))\n               if (timeOrDate === 'time'){\n                   output =  parsedDate.toLocaleString(\"en-GB\", optionsTime)\n               }else if (timeOrDate === 'date') {\n               output =  (`${parsedDate.toLocaleString(\"en-GB\", optionsDate)}`)\n               }else if (timeOrDate === '24') {\n               output =  parsedDate.toLocaleString(\"en-GB\", options24)\n              }\n\n\n            return output\n\n            }\n\n        lowCarbonLabel = (item) => {\n            let output = ''\n            console.log(item.text)\n            //if (item.text.split(' ')[0] === 'Low' || item.text.split(' ')[1] === 'Low' ) {\n            if (item.text === 'Low' || item.text === 'Very Low' ) {\n                output = 'â˜…'\n            }\n            return output\n        }\n\n       formatData = () => {\n        let data = []\n        let labelData = []\n        let dayLabels = []\n        let middleVal = this.props.middle\n        //let middle = this.props.timelineVals[this.props.timelineVals.length-1].level / 2 \n\n        if (this.props.timelineVals !== [] ) {\n\n        this.props.timelineVals.map((item, index) => {\n            let bar = {x: item.level-10, y: -index, label: `${this.lowCarbonLabel(item)}`,style: {fill: '#00cc66'}, yOffset:-25}   \n            data = [...data, bar]\n        })\n\n        this.props.timelineVals.map((item, index) => {\n            let barLabel = {x: 0, y: -index, label: `${this.parseDate(item.from, 'time')}`, xOffset:-60}  \n            labelData = [...labelData, barLabel]\n        })\n        this.props.timelineVals.map((item, index) => {\n            \n           // let middle = this.props.screenWidth / 2\n           // let middle = this.state.rawData[this.state.rawData-1].x / 2 \n            //middle += 100\n            let day = ''\n\n            if (parseInt(`${this.parseDate(item.from, '24')}`) < 1 || index < 1 )\n            {\n                day = `${this.parseDate(item.from, 'date')}`\n                console.log(day)   \n            }\n            let dayLabel = {x: this.state.middle, y: -index, \n                label: day,\n                xOffset: this.props.mobileUser ? 0 : -30,\n                 yOffset:-15}  \n            dayLabels = [...dayLabels, dayLabel]\n        })\n    }\n       \n        //console.log(data)\n        \n        this.setState({\n            rawData: data,\n            labelData: labelData,\n            dayLabels: dayLabels\n        })    \n    \n    }\n    //day.sort((a, b) => (a.level > b.level)\n    manageHeight = () => {\n       let newHeight =  this.props.timelineVals.length += 400\n        this.setState({\n            height: newHeight\n        })\n    }\n\n    _forgetValue = () => {\n        this.setState({\n          value: null\n        });\n      };\n    \n      _rememberValue = value => {\n        this.setState({value});\n      };\n    \n\n\n      \n      \n      colorChange = (text1, text2, color) => {\n        if (this.state.currentLevel.text === text1 || this.state.currentLevel.text === text2) {\n         return {color: color, fontWeight: 'bold', borderBottom: `2px solid ${color}`} \n        }else return {color: 'black', fontWeight: 'normal', border:'none'}\n    }\n      \n    \n\n    \n    render() {\n        //const {value} = this.state\n        let scroll = window.scrollY;\n        // console.log(scrolledDown)\n        const highlight = \"highlight\"\n        \n\n\n        return (\n\n<div>\n\n<div className=\"bgPanel\">\n            <h1>Timeline Forecast</h1>\n        <p>Use the Forecast Timeline to see the forecast in detail over time.</p>\n        <p>The black line is the Carbon Intensity level. The Carbon Intensity increases as it travels to the right.</p>\n        <p>As you scroll the info panel will update, with the Time, Carbon Intensity Level and Low, Medium, High, indicators.</p>\n      {/* <Accordion defaultActiveIndex={[]} panels={TitleContent.fuelMixTitle} exclusive={false}/> */}\n      </div>\n\n<div  className=\"bgPanel\" style={{\n   \n                background: '#fff',\n               \n            }}>\n\n            <div\n            \n            style={{\n                height: '800vh',\n                \n            }}\n            id=\"bg-fade\"\n            >\n\n\n\n\n\n<Dimmer active={this.props.loading} page>\n        <Loader>Loading</Loader>\n    </Dimmer>\n\n\n\n          <div id=\"sticky\" height={2}> \n         <h2> Carbon Intensity Timeline</h2> <br></br>\n            {/* Vertical scroll position is: { this.props.scrollPositionY - this.state.yOffset } <br></br> */}\n            {/* Carbon Intensity: {this.state.currentLevel.level} */}\n           \n\n\n\n\n\n\n          <Table className=\"sticky-table\" fixed unstackable singleLine celled>\n          {/* <Table id=\"sticky-table\" fixed unstackable singleLine celled> */}\n\n            <Table.Body>\n            \n            <Table.Row textAlign='center'> \n            <Table.Cell><h3>{this.state.currentLevel.time.slice(8)}</h3></Table.Cell>\n            <Table.Cell><h3>{this.state.currentLevel.time.slice(0,8)}</h3></Table.Cell>\n            <Table.Cell><h3>{`${this.state.currentLevel.level} CO2e`}</h3></Table.Cell>\n            </Table.Row> \n\n            <Table.Row textAlign='center'>\n            <Table.Cell><h3 style={this.colorChange(\"Low\",\"Very Low\", \"green\")}>âŸµ  Low</h3></Table.Cell>\n            <Table.Cell><h3 style={this.colorChange(\"Moderate\",\"Moderate\", \"orange\")}>Medium</h3></Table.Cell>\n            <Table.Cell><h3 style={this.colorChange(\"High\",\"Very Hight\", \"red\")}>High  âŸ¶</h3></Table.Cell>\n            </Table.Row>\n            </Table.Body>\n          </Table>\n          \n          </div>\n          <div id=\"stickyMeasure\">\n          </div>\n\n                <div id=\"timeline\" height={800} style={{marginBottom: '0vh'}}>\n<div\n        \n      style={{\n          // display: 'flex',\n          justifyContent: 'space-between',\n          position: 'relative',\n          width:  '100%',\n          height: '800vh',\n        //   height: '800vh',\n          //height: `${this.state.height}vh`,\n           overflow: 'auto',\n        }}\n      \n\n      \n    >\n\n\n\n<div\n        style={{width: '100%', height: '100%'}}\n        // style={{width: '100%', height: '100%', border: '1px solid #ccc'}}\n      >\n        {/* <FlexibleXYPlot  id=\"timeline-chart\" margin={{bottom: 1000, left: 80, right: 20, top: 50}}>  */}\n        <FlexibleXYPlot  id=\"timeline-chart\" margin={{bottom: 250, left: 80, right: 20, top: 50}}> \n        {/* <FlexibleXYPlot  id=\"timeline-chart\" margin={{bottom: 80, left: 80, right: 20, top: 50}}>  */}\n        {/*50*/}\n        {/* xType=\"time\" \n         yType=\"ordinal\"\n        */}\n        \n\n        <HorizontalGridLines \n        tickTotal={this.state.rawData.length}\n        animation={true}\n        />\n     \n        {/* <YAxis \n        position=\"start\"\n        tickTotal={2}\n        // top={40}\n        top={0}\n        //height={150}\n        //width={1}\n        style={{\n            text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n          }}\n          //tickLabelAngle={-45}\n          /> */}\n        \n        \n        <LineSeries \n        data={this.state.rawData}\n        color={'black'}\n        animation\n        style={{\n            fill: 'none',\n            strokeLinejoin: 'round',\n            strokeWidth: 8\n        }}\n        curve={'curveMonotoneX'}\n        />\n\n        {/* <MarkSeries\n          onValueMouseOver={this._rememberValue}\n          onValueMouseOut={this._forgetValue}\n          data={this.state.rawData}\n          id=\"markSeries\"\n        /> */}\n        {/* {value ? <Hint value={value} /> : null} */}\n\n        <LabelSeries\n        data={this.state.rawData}\n        // labelAnchorX={\"end\"}\n        // labelAnchorY={\"middle\"}\n        />\n        <LabelSeries\n        data={this.state.labelData}\n        labelAnchorX={\"start\"}\n        labelAnchorY={\"middle\"}\n        />\n\n        <LabelSeries\n        data={this.state.dayLabels}\n        labelAnchorX={\"end\"}\n        labelAnchorY={\"middle\"}\n        />\n\n\n\n        {/* <HorizontalBarSeries \n        data={this.state.rawData}\n        color={'url(#CoolGradient)'}\n        animation\n        /> */}\n\n         {/* <YAxis \n         position=\"start\"\n         tickValues={this.state.rawData.map(value => value.y)} \n         tickSize={1}\n         />  */}\n\n{/*\n            //data={this.xlabelData('top')}\n                //return { ...obj, y: this.props.mobileUser ? -3 : -18, rotation: this.props.mobileUser ? 90 : 0, label: `${obj.y.split('|')[0]}` }\n            //animation\n            // labelAnchorX={this.props.mobileUser ? \"start\" : \"middle\"}\n            // //labelAnchorY=\"text-before-edge\"\n            // labelAnchorY={this.props.mobileUser ? \"text-after-edge\" : \"baseline\"}\n            // labelAnchorX={\"middle\"}\n            // labelAnchorY={\"text-before-edge\"}\n            // style={{\n            //     text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n            //   }}\n        {/* \n        <LabelSeries\n                    data={this.state.rawData.map(obj => {\n                        return { ...obj, label: obj.y.toString() }\n                    })}\n                    \n                    animation\n                    labelAnchorX=\"middle\"\n                    labelAnchorY=\"text-before-edge\"\n                    \n                    />\n\n\n\n        <LabelSeries\n                    data={this.state.rawData.map(obj => {\n\n                        return { ...obj, y: this.props.mobileUser ? -3 :-34, rotation: this.props.mobileUser ? 90 : 0, label: `${obj.y.split('|')[1]}` }\n                    })}\n                    animation\n                    labelAnchorX={this.props.mobileUser ? \"start\" : \"middle\"}\n                    //labelAnchorY=\"text-before-edge\"\n                    //labelAnchorY=\"baseline\"\n                    labelAnchorY={this.props.mobileUser ? \"text-before-edge\" : \"baseline\"}\n                    style={{\n                        text: {stroke: 'none', fill: '#6b6b76', fontWeight: 800, fontSize: 10}\n                      }}\n                    /> */}\n\n\n\n        </FlexibleXYPlot>\n      </div>\n\n</div>\n     \n\n        </div>\n        \n\n            </div></div>\n\n            </div>\n        );\n    }\n}\n\nexport default withScroll (Timeline);\n"]},"metadata":{},"sourceType":"module"}