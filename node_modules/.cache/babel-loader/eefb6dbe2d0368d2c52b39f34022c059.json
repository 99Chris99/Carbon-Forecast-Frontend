{"ast":null,"code":"var apiEndpoint=\"https://api.carbonintensity.org.uk/\";var nationalURL=\"\".concat(apiEndpoint,\"intensity/\");var allRegionsURL=\"\".concat(apiEndpoint,\"regional/\");var region48Hrs=\"\".concat(allRegionsURL,\"intensity/\");//const id48Hrs = `${allRegionsURL}intensity/{from}/fw48h/regionid/`\nvar handleErrors=function handleErrors(response){// console.log('hihi')\nconsole.log(response.status);if(response.status<200||response.status>299){//if (!response.ok) {\n//if (response !== 200) {\nconsole.log('run for your lives its an error!!!');return alert('Error retrieving forecast data, please reload.');// throw Error(response.statusText, reload());\n}//console.log('All good')\nreturn response;};var reload=function reload(){alert('Error retrieving forecast data, please reload.');};var getCurrentNationalData=function getCurrentNationalData(){return fetch(nationalURL,{method:\"GET\"}).then(handleErrors).then(function(response){return response.json();}).catch(function(err){console.log('Catch error');});};var getCurrentRegionalData=function getCurrentRegionalData(){return fetch(allRegionsURL,{method:\"GET\"}).then(handleErrors).then(function(response){return response.json();}).catch(function(err){console.log('Catch error');});};var getRegionId48HrsData=function getRegionId48HrsData(idQuery,start){return fetch(\"\".concat(region48Hrs).concat(start,\"/fw48h/regionid/\").concat(idQuery),{method:\"GET\"}).then(handleErrors).then(function(response){return response.json();}).catch(function(err){console.log('Catch error');});};var getRegionPostCode48HrsData=function getRegionPostCode48HrsData(postCodeQuery,start){return fetch(\"\".concat(region48Hrs).concat(start,\"/fw48h/postcode/\").concat(postCodeQuery),{method:\"GET\"}).then(handleErrors).then(function(response){return response.json();}).catch(function(err){console.log('Catch error');});};export default{getCurrentNationalData:getCurrentNationalData,getCurrentRegionalData:getCurrentRegionalData,getRegionId48HrsData:getRegionId48HrsData,getRegionPostCode48HrsData:getRegionPostCode48HrsData};","map":{"version":3,"sources":["/Users/Chris/Development/Final-Project/carbon-forecast-frontend/src/adapters/API.js"],"names":["apiEndpoint","nationalURL","allRegionsURL","region48Hrs","handleErrors","response","console","log","status","alert","reload","getCurrentNationalData","fetch","method","then","json","catch","err","getCurrentRegionalData","getRegionId48HrsData","idQuery","start","getRegionPostCode48HrsData","postCodeQuery"],"mappings":"AAAA,GAAMA,CAAAA,WAAW,sCAAjB,CACA,GAAMC,CAAAA,WAAW,WAAMD,WAAN,cAAjB,CACA,GAAME,CAAAA,aAAa,WAAMF,WAAN,aAAnB,CACA,GAAMG,CAAAA,WAAW,WAAMD,aAAN,cAAjB,CACA;AAEA,GAAIE,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,QAAD,CAAc,CAC9B;AACCC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,MAArB,EACA,GAAIH,QAAQ,CAACG,MAAT,CAAkB,GAAlB,EAAyBH,QAAQ,CAACG,MAAT,CAAkB,GAA/C,CAAoD,CACpD;AACA;AACIF,OAAO,CAACC,GAAR,CAAY,oCAAZ,EACD,MAAOE,CAAAA,KAAK,CAAC,gDAAD,CAAZ,CACC;AACH,CACD;AACA,MAAOJ,CAAAA,QAAP,CACH,CAZD,CAcA,GAAMK,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBD,KAAK,CAAC,gDAAD,CAAL,CACH,CAFD,CAIA,GAAME,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,SAAMC,CAAAA,KAAK,CAACX,WAAD,CAAa,CAACY,MAAM,CAAE,KAAT,CAAb,CAAL,CAAmCC,IAAnC,CAAwCV,YAAxC,EAAsDU,IAAtD,CAA2D,SAAAT,QAAQ,QAAIA,CAAAA,QAAQ,CAACU,IAAT,EAAJ,EAAnE,EAAwFC,KAAxF,CAA8F,SAACC,GAAD,CAAS,CACxIX,OAAO,CAACC,GAAR,CAAY,aAAZ,EACD,CAFkC,CAAN,EAA/B,CAGA,GAAMW,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,SAAMN,CAAAA,KAAK,CAACV,aAAD,CAAe,CAACW,MAAM,CAAE,KAAT,CAAf,CAAL,CAAqCC,IAArC,CAA0CV,YAA1C,EAAwDU,IAAxD,CAA6D,SAAAT,QAAQ,QAAIA,CAAAA,QAAQ,CAACU,IAAT,EAAJ,EAArE,EAA0FC,KAA1F,CAAgG,SAACC,GAAD,CAAS,CAC1IX,OAAO,CAACC,GAAR,CAAY,aAAZ,EACD,CAFkC,CAAN,EAA/B,CAGA,GAAMY,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,OAAD,CAAUC,KAAV,QAAoBT,CAAAA,KAAK,WAAIT,WAAJ,SAAkBkB,KAAlB,4BAA0CD,OAA1C,EAAoD,CAACP,MAAM,CAAE,KAAT,CAApD,CAAL,CAA0EC,IAA1E,CAA+EV,YAA/E,EAA6FU,IAA7F,CAAkG,SAAAT,QAAQ,QAAIA,CAAAA,QAAQ,CAACU,IAAT,EAAJ,EAA1G,EAA+HC,KAA/H,CAAqI,SAACC,GAAD,CAAS,CAC3LX,OAAO,CAACC,GAAR,CAAY,aAAZ,EACD,CAF8C,CAApB,EAA7B,CAGA,GAAMe,CAAAA,0BAA0B,CAAG,QAA7BA,CAAAA,0BAA6B,CAACC,aAAD,CAAgBF,KAAhB,QAA0BT,CAAAA,KAAK,WAAIT,WAAJ,SAAkBkB,KAAlB,4BAA0CE,aAA1C,EAA0D,CAACV,MAAM,CAAE,KAAT,CAA1D,CAAL,CAAgFC,IAAhF,CAAqFV,YAArF,EAAmGU,IAAnG,CAAwG,SAAAT,QAAQ,QAAIA,CAAAA,QAAQ,CAACU,IAAT,EAAJ,EAAhH,EAAqIC,KAArI,CAA2I,SAACC,GAAD,CAAS,CAC7MX,OAAO,CAACC,GAAR,CAAY,aAAZ,EACD,CAF0D,CAA1B,EAAnC,CAMA,cAAe,CACXI,sBAAsB,CAAtBA,sBADW,CAEXO,sBAAsB,CAAtBA,sBAFW,CAGXC,oBAAoB,CAApBA,oBAHW,CAIXG,0BAA0B,CAA1BA,0BAJW,CAAf","sourcesContent":["const apiEndpoint = `https://api.carbonintensity.org.uk/`\nconst nationalURL = `${apiEndpoint}intensity/`\nconst allRegionsURL = `${apiEndpoint}regional/`\nconst region48Hrs = `${allRegionsURL}intensity/`\n//const id48Hrs = `${allRegionsURL}intensity/{from}/fw48h/regionid/`\n\nlet handleErrors = (response) => {\n   // console.log('hihi')\n    console.log(response.status)\n    if (response.status < 200 || response.status > 299) {\n    //if (!response.ok) {\n    //if (response !== 200) {\n        console.log('run for your lives its an error!!!')\n       return alert('Error retrieving forecast data, please reload.')\n        // throw Error(response.statusText, reload());\n    }\n    //console.log('All good')\n    return response;\n}\n\nconst reload = () => {\n    alert('Error retrieving forecast data, please reload.')\n}\n\nconst getCurrentNationalData = () => fetch(nationalURL,{method: \"GET\"}).then(handleErrors).then(response => response.json()).catch((err) => {\n    console.log('Catch error')\n  })\nconst getCurrentRegionalData = () => fetch(allRegionsURL,{method: \"GET\"}).then(handleErrors).then(response => response.json()).catch((err) => {\n    console.log('Catch error')\n  })\nconst getRegionId48HrsData = (idQuery, start) => fetch(`${region48Hrs}${start}/fw48h/regionid/${idQuery}`,{method: \"GET\"}).then(handleErrors).then(response => response.json()).catch((err) => {\n    console.log('Catch error')\n  })\nconst getRegionPostCode48HrsData = (postCodeQuery, start) => fetch(`${region48Hrs}${start}/fw48h/postcode/${postCodeQuery}`,{method: \"GET\"}).then(handleErrors).then(response => response.json()).catch((err) => {\n    console.log('Catch error')\n  })\n\n\n\nexport default {\n    getCurrentNationalData,\n    getCurrentRegionalData,\n    getRegionId48HrsData,\n    getRegionPostCode48HrsData\n}"]},"metadata":{},"sourceType":"module"}